<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CityRepair ‚Ä¢ Reportar Problema</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""
/>
  <link href="../src/css/styles.css" rel="stylesheet" />
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg border-bottom bg-white sticky-top">
  <div class="container">
    <!-- Marca izquierda -->
    <a class="navbar-brand fw-semibold d-flex align-items-center gap-2" href="../index.html">
      <span class="brand-badge">E</span>
      <span>
        CityRepair
        <small class="d-block text-muted lh-1" style="font-size:.75rem;">Sistema de Reportes EDET</small>
      </span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Men√∫ centrado -->
    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav mx-auto nav-pills gap-2">
        <li class="nav-item">
          <a class="nav-link d-inline-flex align-items-center gap-2" href="../index.html">
            <i class="bi bi-house-door"></i><span>Inicio</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-inline-flex align-items-center gap-2" href="./reportar.html">
            <i class="bi bi-flag"></i><span>Reportar</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-inline-flex align-items-center gap-2" href="./mis-reportes.html">
            <i class="bi bi-clipboard-check"></i><span>Mis Reportes</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-inline-flex align-items-center gap-2" href="./contacto.html">
            <i class="bi bi-telephone"></i><span>Contacto</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-inline-flex align-items-center gap-2" href="./admin.html">
            <i class="bi bi-shield-lock"></i><span>Admin</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <main class="container py-4">
    <a href="../index.html" class="text-decoration-none small mb-2 d-inline-block">&larr; Volver</a>
    <h1 class="fw-bold mb-4">Reportar Problema</h1>

    <form id="form-reporte" class="row g-4">
      <!-- fila 1: tipo + ubicaci√≥n -->
      <div class="col-md-6">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <label class="form-label">Tipo de Problema</label>
            <select class="form-select" name="tipo" required>
              <option value="">Selecciona el tipo de problema</option>
              <option>Poste ca√≠do</option>
              <option>Corte de luz</option>
              <option>Cableado suelto</option>
              <option>Riesgo el√©ctrico</option>
              <option>Fuga de energia</option>
              <option>Cortocircuito</option>
              <option>Equipo Da√±ado</option>
              <option>Fuga de gas</option>
              <option>Fallos en el suministro en horarios espec√≠ficos</option>
              <option>Ramas de √°rboles interfiriendo con cables</option>
              <option>Mal estado de instalaciones el√©ctricas en edificios</option>
              <option>Cambio en el tipo de medidor</option>
              <option>Instalaciones temporales inadecuadas</option>
              <option>Da√±o por tormenta</option>
              <option>Problemas con el suministro en edificios de departamentos</option>
              <option>Escasez de recursos energ√©ticos</option>
              <option>Actos de vandalismo</option>
              <option>Instalaciones ilegales detectadas</option>
              <option>Problemas de infraestructura en comunidades rurales</option>
              <option>Aumento inusual en el consumo</option>
              <option>Quejas por ruidos en transformadores</option>
            </select>
          </div>
        </div>
      </div>

     <label class="form-label">Ubicaci√≥n</label>
<div class="input-group mb-2">
  <input class="form-control" name="direccion" id="direccion" placeholder="Direcci√≥n exacta" />
  <button type="button" class="btn btn-outline-primary" id="btn-buscar-dir">Buscar</button>
  <button type="button" id="btn-geo" class="btn btn-outline-secondary">üìç</button>
</div>
<div id="coords" class="form-text mt-2"></div>


      <!-- fila 2: mapa -->
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-body">
            <label class="form-label">Ubicaci√≥n en el Mapa</label>
          <div id="map" class="border rounded-3" style="height: 360px;"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- fila 3: fotos -->
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-body">
            <label class="form-label">Fotograf√≠as (opcional)</label>
            <input type="file" class="form-control" name="fotos" id="fotos" multiple accept="image/*" />
            <div class="form-text">PNG, JPG (m√°x. 5MB cada una)</div>
          </div>
        </div>
      </div>

      <!-- fila 4: descripci√≥n -->
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-body">
            <label class="form-label">Descripci√≥n del Problema</label>
            <textarea class="form-control" rows="4" name="descripcion" required
                      placeholder="Describe detalladamente el problema que observas..."></textarea>
          </div>
        </div>
      </div>

      <!-- acciones -->
      <div class="col-12 d-flex justify-content-end gap-2">
        <a class="btn btn-outline-secondary" href="../index.html">Cancelar</a>
        <button class="btn btn-success">Enviar Reporte</button>
      </div>
    </form>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Marca como .active el item cuya URL coincide con la p√°gina actual
  (() => {
    const here = location.pathname.replace(/\\/g,'/').split('/').pop();
    document.querySelectorAll('.nav-link').forEach(a => {
      const href = a.getAttribute('href');
      if (!href) return;
      const target = href.split('/').pop();
      if (target === here) a.classList.add('active');
    });
  })();
</script>

  <script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""></script>
  <script src="../src/js/app.js"></script>
</body>
</html>
