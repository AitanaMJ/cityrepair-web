<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CityRepair – Panel del Técnico</title>

  <!-- Estilos globales -->
  <link rel="stylesheet" href="../src/css/styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <!-- Estilos del técnico -->
  <link rel="stylesheet" href="../src/css/tecnico-dashboard.css">
</head>

<body>

<!-- ============ NAVBAR TÉCNICO ============ -->
<header class="navbar">
  <div class="container">

    <!-- Marca -->
    <div class="brand-left">
      <img src="../src/img/favicon.png" class="logo-sm" alt="CityRepair">
      <div class="brand-txt">
        <span class="brand-title">CityRepair</span>
        <span class="brand-sub">Panel del Técnico</span>
      </div>
    </div>

    <!-- NAV DERECHA -->
    <nav class="nav-right">

      <!-- Botón Mis trabajos -->
      <a class="nav-item active">
        <span class="icon"><i class="bi bi-tools"></i></span> Mis trabajos
      </a>

      <!-- PERFIL TÉCNICO (SE RELLENA AUTOMÁTICO) -->
      <div class="nav-item user-pill" id="userMenuBtn" data-user-panel hidden>

        <img class="avatar-sm" data-user-avatar src="" alt="avatar">

        <span data-user-name>Técnico</span>

        <i class="bi bi-caret-down-fill icon-dropdown"></i>

        <!-- Dropdown -->
        <div class="user-dropdown" id="userDropdown" hidden>
          <a href="./tecnico-perfil.html" class="dropdown-btn">
            <i class="bi bi-person-circle"></i> Mi Perfil
          </a>

          <button id="logoutFromMenu">
            <i class="bi bi-box-arrow-right"></i> Cerrar sesión
          </button>
        </div>

      </div>

    </nav>

  </div>

  <div class="navbar-divider"></div>
</header>

<!-- ============ CONTENIDO ============ -->
<main class="container edet-main">

  <!-- KPIs -->
  <section class="kpi-row">
    <article class="kpi-card">
      <h3>Asignados</h3>
      <p id="kpiAsignados" class="kpi-number">0</p>
    </article>

    <article class="kpi-card">
      <h3>En revisión</h3>
      <p id="kpiRevision" class="kpi-number">0</p>
    </article>

    <article class="kpi-card">
      <h3>Resueltos hoy</h3>
      <p id="kpiResueltos" class="kpi-number">0</p>
    </article>
  </section>

  <!-- LISTA REPORTES -->
  <section class="card edet-table-card">
    <div class="edet-table-header">
      <h2>Mis reportes asignados</h2>
    </div>

    <div id="lista-tecnico" class="edet-list">
      <!-- Se llena desde JS -->
    </div>
  </section>

</main>

<footer class="footer"></footer>

<!-- ============ SCRIPTS ============ -->
<script type="module" src="../src/js/firebase.js"></script>
<script type="module" src="../src/js/navbar-auth.js"></script>
<script type="module" src="../src/js/profile-menu.js"></script>
<script type="module" src="../src/js/logout.js"></script>
<script type="module" src="../src/js/tecnico-dashboard.js"></script>

</body>
</html>